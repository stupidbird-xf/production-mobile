(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],d=0,m=[];d<i.length;d++)r=i[d],s[r]&&m.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==s[i]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},s={app:0},o=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2a5443d9":"ba6cff34"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-2a5443d9":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-2a5443d9":"0e433876"}[t]+".css",s=c.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===s))return e()}var m=document.getElementsByTagName("style");for(i=0;i<m.length;i++){u=m[i],d=u.getAttribute("data-href");if(d===a||d===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[t],p.parentNode.removeChild(p),n(o)},p.href=s;var l=document.getElementsByTagName("head")[0];l.appendChild(p)}).then(function(){r[t]=0}));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,n){a=s[t]=[e,n]});e.push(a[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(t),u=function(e){d.onerror=d.onload=null,clearTimeout(m);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");o.type=a,o.request=r,n[1](o)}s[t]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var p=d;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"330b":function(t,e,n){},"53f2":function(t,e,n){},"561f":function(t,e,n){"use strict";var a=n("53f2"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],o=(n("f559"),n("96cf"),n("3b8d")),i=n("a78e"),c=n.n(i),u={name:"App",mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{getUserAddress:function(t){AMap.plugin("AMap.Geocoder",function(){var e=new AMap.Geocoder({radius:1e3,extensions:"all"});e.getAddress(t,function(e,n){if("complete"===e&&"OK"===n.info){var a=n.regeocode.addressComponent,r="".concat(a.adcode.substr(0,3),"000"),s={longitude:t[0],latitude:t[1],province:a.province,city:a.city||a.province,cityCode:"".concat(a.adcode.substr(0,3)).concat(a.citycode),district:a.district,districtCode:a.adcode,provinceCode:r};r.startsWith("65")&&c.a.set("canDraw",!0),c.a.set("province_id",s.provinceCode),c.a.set("city_id",s.cityCode),console.log(s),console.log(a)}})})}}},d=u,m=(n("7c55"),n("2877")),p=Object(m["a"])(d,r,s,!1,null,null,null),l=p.exports,f=n("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("van-row",{staticClass:"top-tip"},[a("van-col",{attrs:{span:"17"}},[a("p",[t._v("使用指南："),a("br"),t._v("1、在下方列表选择需要挂接的产品信息"),a("br"),t._v("2、点击“挂接”按钮")])]),a("van-col",{attrs:{span:"7"}},[a("img",{staticClass:"product-code-img",attrs:{src:n("8e31"),alt:""}})])],1),a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[t._v("码信息")]),a("div",{staticClass:"message"},[a("p",[t._v("类型："+t._s(t.codeMsg.type))]),a("p",[t._v("数量："+t._s(t.codeMsg.num))])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[t._v("选择产品")]),a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.productOptions},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("div",{staticClass:"product-msg"},[a("van-row",{staticClass:"list-title border-outside"},[a("van-col",{staticClass:"border-inside",attrs:{span:"7"}},[t._v("产品名称")]),a("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v("英文ID")]),a("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v("产品编码")]),a("van-col",{staticClass:"border-inside",attrs:{span:"5"}},[t._v("积分奖励")])],1),a("van-row",[a("van-col",{staticClass:"border-inside",attrs:{span:"7"}},[t._v(t._s(t.productMsg.proName))]),a("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v(t._s(t.productMsg.sname))]),a("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v(t._s(t.productMsg.signId))]),a("van-col",{staticClass:"border-inside",attrs:{span:"5"}},[t._v(t._s(t.productMsg.reward))])],1)],1)],1),a("van-button",{staticClass:"confirm-btn",attrs:{type:"default"},on:{click:t.confirmClick}},[t._v("确认挂接")]),a("van-popup",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"confirm-pop"},[a("img",{staticClass:"close",attrs:{src:n("db89")},on:{click:t.closePop}}),a("p",{staticClass:"title"},[t._v("产品码挂接成功")]),a("img",{staticClass:"success",attrs:{src:n("5e9e")}}),a("div",{staticClass:"content"},[a("p",[a("span",{staticClass:"name"},[t._v("产品名称：")]),t._v(t._s(t.productMsg.proName))]),a("p",[a("span",{staticClass:"name"},[t._v("英文ID：")]),t._v(t._s(t.productMsg.sname))]),a("p",[a("span",{staticClass:"name"},[t._v("产品编码：")]),t._v(t._s(t.productMsg.signId))]),a("p",[a("span",{staticClass:"name"},[t._v("积分：")]),t._v(t._s(t.productMsg.amount))]),a("p",[a("span",{staticClass:"name"},[t._v("码类型：")]),t._v(t._s(t.productMsg.type))]),a("p",[a("span",{staticClass:"name"},[t._v("数量：")]),t._v(t._s(t.productMsg.num))])]),a("van-button",{staticClass:"confirm-btn",attrs:{type:"default"},on:{click:t.closePop}},[t._v("确认")])],1)])],1)},g=[],v=(n("ac6a"),n("3b2b"),n("a481"),n("5118")),b={name:"home",data:function(){return{get:!0,show:!1,codeMsg:{},productMsg:{},id:36,backLogin:"",value:0,productOptions:[{name:"请选择产品名称",value:0}],proAddress:"",bindAddress:""}},mounted:function(){this.getUrlKey("id")&&(this.id=this.$route.query.id)},created:function(){this.getUrlKey("code")?(c.a.set("code",this.getUrlKey("code")),this.getUrlKey("code")&&this.get&&(this.get=!1,this.getMessage())):window.location.href="https://reitschain.com/code/login?redirect_url=".concat(window.location.href,"&connect_redirect=1")},methods:{getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getMessage:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/backapi/admin/adminLogin?code=".concat(this.getUrlKey("code")));case 2:if(e=t.sent,200===e._http_status&&0===e.code){t.next=6;break}return this.$notify({title:"网络错误",message:e.msg}),t.abrupt("return");case 6:c.a.set("backLogin",e.backLogin),this.backLogin=e.backLogin,this.getBatchById(this.id,1),this.addressList();case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),closePop:function(){this.show=!1},getBatchById:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n){var a,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/backapi/vipproduct/getBatchById",{backLogin:this.backLogin,id:e});case 2:if(a=t.sent,200===a._http_status&&0===a.code){t.next=6;break}return this.$notify({message:a.msg,color:"#ad0000",background:"#ffe1e1",duration:1e3}),t.abrupt("return");case 6:1===n?(this.codeMsg.type=1===a.data.type?"防伪码":2===a.data.type?"防伪码+溯源码":"溯源码",this.codeMsg.num=a.data.num):(this.proAddress=a.data.proAddress,this.bindAddress=a.data.bindAddress,this.productMsg={amount:a.data.amount,type:1===a.data.type?"防伪码":2===a.data.type?"防伪码+溯源码":"溯源码",num:a.data.num,signId:a.data.signId,proName:a.data.proName,sname:a.data.sname,reward:a.data.reward},Object(v["setTimeout"])(function(){r.bindProduct()},200));case 7:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),addressList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/backapi/vipproduct/addressList",{backLogin:this.backLogin});case 2:if(e=t.sent,200===e._http_status&&0===e.code){t.next=6;break}return this.$notify({message:e.msg,color:"#ad0000",background:"#ffe1e1",duration:1e3}),t.abrupt("return");case 6:e.data.forEach(function(t){var e={};e.text=t.proName,e.value=t.id,n.productOptions.push(e)});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),confirmClick:function(){this.getBatchById(this.id,2)},bindProduct:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/backapi/vipproduct/bindProduct",{backLogin:this.backLogin,productAddress:this.proAddress,batchAddress:this.bindAddress});case 2:if(e=t.sent,200===e._http_status&&0===e.code){t.next=6;break}return this.$notify({message:e.msg,color:"#ad0000",background:"#ffe1e1",duration:1e3}),t.abrupt("return");case 6:this.show=!0;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},A=b,Z=(n("561f"),n("efc9"),Object(m["a"])(A,h,g,!1,null,"1c3511c7",null)),U=Z.exports;a["a"].use(f["a"]);var y=new f["a"]({base:"/",routes:[{path:"/",name:"home",component:U},{path:"/materiel",name:"materiel",component:function(){return n.e("chunk-2a5443d9").then(n.bind(null,"aeeb"))}}]}),w=y,C=n("b970"),W=(n("b059"),n("157a"),n("bc3a")),k=n.n(W),_=n("4328"),E=n.n(_),O=function(t){return new Promise(function(e){k()(t).then(function(t){t.data=t.data||{},t.data._http_status=t.status,e(t.data)}).catch(function(t){var n=t.response.status;t.response.data=t.response.data||{},t.response.data._http_status=n,e(t.response.data)})})},B={all:function(t){return k.a.all(t)},spread:function(t){return k.a.spread(t)},get:function(t,e){var n={url:t,method:"get",params:e};return O(n)},post:function(t,e,n){var a={url:t,method:"post",data:E.a.stringify(e),headers:{"Content-Type":n||"application/x-www-form-urlencoded"}};return O(a)},postJson:function(t,e,n){var a={url:t,method:"post",data:e,headers:{"Content-Type":n||"application/x-www-form-urlencoded"}};return O(a)}},M=n("2f62");a["a"].use(M["a"]);var x=new M["a"].Store({state:{popMsg:{}},mutations:{SET_POPMSG:function(t,e){t.popMsg=e}},actions:{}}),P=x;function R(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.getElementsByTagName("html")[0];e.style.fontSize=t/10+"px"}a["a"].use(C["a"]),a["a"].config.productionTip=!1,a["a"].prototype.$http=B,new a["a"]({store:P,router:w,render:function(t){return t(l)}}).$mount("#app"),window.onresize=R,R()},"5c48":function(t,e,n){},"5e9e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAABmCAMAAAD24e+nAAAAilBMVEUAAAAWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9XLu7lrAAAALXRSTlMAQIGVpoBZoThIwwT45dkgvBYL8+3UyTscaDIQziXerpu1dG5dB6iOUC+He2P6aAhCAAADjElEQVRo3u3Y63KiQBAF4AY0uoByVxAB79f0+7/epijYJoQZhBmorZTnT6oizGfjAQWox3mmKCfp0YCWKAuUl2DegpkoM57Cw+6EyYmZcDQ738SfqVPRqBcvX2vPGS3fQLdARu7bfDX2cGo+mQNy4uaFuwErGX4lkyHRcidgxFjhVzRpmoZf+QBGzsGYmrEdQvs/juTImj6mBr9Zs3+xthfRbhNbTUbS3Iy+PQfXDBvz+M7rWtZXc3UschpeO9tY5vi6dumnGTr+izK0FtuE7eF1bUJav8kWTgdt1kNzK9gyhGE1165MlkAXbcfQYuB9JZZJQxDXzk893TP2iauHMQFBjc6lXeN5Vi2IBR01rUGLitUmDZOtagUR1zIssmO0kQrSUbs2aNS52nRnRkGEtAOtOYNKHEZBxLRzWudoMipIH+1BGuXu48+D6Wzpn0EI8jRYe4i1qsSs6otrsDFr07mVyZYO9NTUZg3W/rfpnFUFs6CvNmVoMK9Md7WqBQmht/ZkabDxSfDqBRHXeFWpFkRAO5DGrQoVRJLGqwoVREg78jRY03RUkME0mPvILIh8DRSvWhBRLWJpdN5RQYbXQPFzLLBAXPskjfusbB/DsBpF+dgAyNBOo94J3/KrrjTt2vjEcP6Y5dH0vG7ajPJwOgrOcVfuqy3zZ6tasVJx/J8msrONO2GHBbJifhYXR17ULtgOeTkChCZfW3XAIuTGDGGK/PhOlwfJ/Ezhgi3ZvKxtsCWXdu0keiApE5jkf6O1Usv6QD+QX0xWtqF5MdIS+JniU1gYL2JGsUPKOMikzRkXnoarAfe6x7oY/WnV1vQM5KWsqFY9NNDp+U5r6M3Z0Eej/bfQHnpv834aLXDsUP899NTodL23YnfatKdGV9k0bsGcZbGlBv01NygW0Q0u5pZ93BoCGiRmyTkczCrflBeCgEanLAYbJrZZYpEPENOIwyfzHpMwAa3O7ZWml3UsYt5AXIMP+na3byFUY0UB3bLeQFCj38dl/Oy5tmLXcGNrfcg8esFOQI4GsYbVeP5ytfQ9rEY1QFijrbfIy/IPgEQNjChlW0cX5GiUOGqeL4jIkqHRPtOt903ygis1UZZGOVuf14m9CtJAt7NdlJwBhtIohksVHFCjvLW39tbe2k/Nkg9w7t8iZdgcCu2C42R87QIqjpcphD6OFdMCUFIcJ2b+wz0+PR/q4HkcEoC/4dQUeZGNYI0AAAAASUVORK5CYII="},"7c55":function(t,e,n){"use strict";var a=n("5c48"),r=n.n(a);r.a},"8e31":function(t,e,n){t.exports=n.p+"img/product-code-img.a73e5ec6.png"},b059:function(t,e,n){},db89:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAclBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkjQ/XgAAAAJXRSTlMAKQboC+2CefbbivLjwF4lyKWdRjEQxEzSaTohzK6SVxwYlXG39PHm/gAAAcxJREFUOMt9VNuWgjAQm1Ja7iCIrKig4ub/f3ErlpZ2kTxwYE7IkHQG8tGW0TjJ8hLQHu5jAg3e9OEXVhDNrPwwDN18J9LnphoH4uHFPk+Pss7Vc/9frgaEPDm1VwIUD5cXqlptaAYjEDOnonglbeCSAVeyOAAX2sSTI7PuG6ClLzgJ3EjjCPzQV1yBSBvmqGkHPVB9UoDYP6+zFuKLNDVdtUq2KPT7x4/zu7UlwJlJ9gAs9WSWmjCQBsuRMa13Bo5LXaKY6b11KCCqmXdY8agFnsTeF4MqR1wZPYMcJZXInZPIEAd0c3lUI1L9f918BZLO41EKSamfdqjkBHNrEqMhWhQAJ584UWRa20kS4FevdarMJE7tBrAwRuasSwP5zmg12UE3T1IVI6+c01ZZ89Vsm1wqlbzt/gDYW7YxhgszmSxbaUY4z+PGrQ87wYwDoamn71mPTe8uW016xZepYnpTRuSmt7PqgQm2WD413f0hmRXttfQ2QqCxJuLTzsbYlVJ++Ddm4bRjAGeb668Ts8wYeG34yDyest4BnVdrByC/kI8IwE2aOosKAGNI/9E2UEjqVMq0OUNhOHoUq/ILg06p7+Bxf8lpSqPSD+EPRV4s5sJqWVQAAAAASUVORK5CYII="},efc9:function(t,e,n){"use strict";var a=n("330b"),r=n.n(a);r.a}});
//# sourceMappingURL=app.2f056cfd.js.map