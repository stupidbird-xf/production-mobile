(function(t){function e(e){for(var r,s,i=e[0],c=e[1],u=e[2],d=0,m=[];d<i.length;d++)s=i[d],a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},s={app:0},a={app:0},o=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2a5443d9":"ba6cff34"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-2a5443d9":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise(function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-2a5443d9":"0e433876"}[t]+".css",a=c.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return e()}var m=document.getElementsByTagName("style");for(i=0;i<m.length;i++){u=m[i],d=u.getAttribute("data-href");if(d===r||d===a)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete s[t],p.parentNode.removeChild(p),n(o)},p.href=a;var l=document.getElementsByTagName("head")[0];l.appendChild(p)}).then(function(){s[t]=0}));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise(function(e,n){r=a[t]=[e,n]});e.push(r[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(t),u=function(e){d.onerror=d.onload=null,clearTimeout(m);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,n[1](o)}a[t]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var p=d;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"067f":function(t,e,n){},"330b":function(t,e,n){},"49bc":function(t,e,n){"use strict";var r=n("067f"),s=n.n(r);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o=(n("f559"),n("96cf"),n("3b8d")),i=n("a78e"),c=n.n(i),u={name:"App",mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{getUserAddress:function(t){AMap.plugin("AMap.Geocoder",function(){var e=new AMap.Geocoder({radius:1e3,extensions:"all"});e.getAddress(t,function(e,n){if("complete"===e&&"OK"===n.info){var r=n.regeocode.addressComponent,s="".concat(r.adcode.substr(0,3),"000"),a={longitude:t[0],latitude:t[1],province:r.province,city:r.city||r.province,cityCode:"".concat(r.adcode.substr(0,3)).concat(r.citycode),district:r.district,districtCode:r.adcode,provinceCode:s};s.startsWith("65")&&c.a.set("canDraw",!0),c.a.set("province_id",a.provinceCode),c.a.set("city_id",a.cityCode),console.log(a),console.log(r)}})})}}},d=u,m=(n("7c55"),n("2877")),p=Object(m["a"])(d,s,a,!1,null,null,null),l=p.exports,f=n("8c4f"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("van-row",{staticClass:"top-tip"},[r("van-col",{attrs:{span:"17"}},[r("p",[t._v("使用指南："),r("br"),t._v("1、在下方列表选择需要挂接的产品信息"),r("br"),t._v("2、点击“挂接”按钮")])]),r("van-col",{attrs:{span:"7"}},[r("img",{staticClass:"product-code-img",attrs:{src:n("8e31"),alt:""}})])],1),r("div",{staticClass:"card"},[r("div",{staticClass:"title"},[t._v("码信息")]),r("div",{staticClass:"message"},[r("p",[t._v("类型："+t._s(t.codeMsg.type))]),r("p",[t._v("数量："+t._s(t.codeMsg.num))])])]),r("div",{staticClass:"card"},[r("div",{staticClass:"title"},[t._v("选择产品")]),r("van-dropdown-menu",[r("van-dropdown-item",{attrs:{options:t.productOptions},on:{change:t.changeValue},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.showList?r("div",{staticClass:"product-msg"},[r("van-row",{staticClass:"list-title border-outside"},[r("van-col",{staticClass:"border-inside",attrs:{span:"7"}},[t._v("产品名称")]),r("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v("英文ID")]),r("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v("产品编码")]),r("van-col",{staticClass:"border-inside",attrs:{span:"5"}},[t._v("积分奖励")])],1),r("van-row",[r("van-col",{staticClass:"border-inside",attrs:{span:"7"}},[t._v(t._s(t.productMsg.proName))]),r("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v(t._s(t.productMsg.sname))]),r("van-col",{staticClass:"border-inside",attrs:{span:"6"}},[t._v(t._s(t.productMsg.signId))]),r("van-col",{staticClass:"border-inside",attrs:{span:"5"}},[t._v(t._s(t.productMsg.reward))])],1)],1):t._e()],1),r("van-button",{staticClass:"confirm-btn",attrs:{type:"default"},on:{click:t.bindProduct}},[t._v("确认挂接")]),r("van-popup",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("div",{staticClass:"confirm-pop"},[r("img",{staticClass:"close",attrs:{src:n("db89")},on:{click:t.closePop}}),r("p",{staticClass:"title"},[t._v("产品码挂接成功")]),r("img",{staticClass:"success",attrs:{src:n("5e9e")}}),r("div",{staticClass:"content"},[r("p",[r("span",{staticClass:"name"},[t._v("产品名称：")]),t._v(t._s(t.productMsg.proName))]),r("p",[r("span",{staticClass:"name"},[t._v("英文ID：")]),t._v(t._s(t.productMsg.sname))]),r("p",[r("span",{staticClass:"name"},[t._v("产品编码：")]),t._v(t._s(t.productMsg.signId))]),r("p",[r("span",{staticClass:"name"},[t._v("积分：")]),t._v(t._s(t.productMsg.amount))]),r("p",[r("span",{staticClass:"name"},[t._v("码类型：")]),t._v(t._s(t.productMsg.type))]),r("p",[r("span",{staticClass:"name"},[t._v("数量：")]),t._v(t._s(t.productMsg.num))])]),r("van-button",{staticClass:"confirm-btn",attrs:{type:"default"},on:{click:t.confirmClick}},[t._v("确认")])],1)])],1)},h=[],v=(n("ac6a"),n("3b2b"),n("a481"),n("4917"),{name:"home",data:function(){return{show:!1,codeMsg:{},productMsg:{},id:"",backLogin:"",value:0,productOptions:[{text:"请选择产品名称",value:0}],proAddress:"",bindAddress:"",canLinkUp:!1,showList:!1,address:"",msgAllGet:!1}},created:function(){var t=this,e=navigator.userAgent,n=setInterval(function(){t.msgAllGet?(clearInterval(n),n=null,"micromessenger"==e.toLowerCase().match(/micromessenger/i)?(t.msgAllGet=!0,t.getBatchById(t.id)):t.$notify({title:"网络错误",message:"请在微信端打开页面",background:"#ffe1e1",duration:3e3})):(t.id=t.getUrlKey("id"),t.backLogin=t.getUrlKey("backLogin"),t.address=t.getUrlKey("address"),""!==t.backLogin&&""!==t.id&&""!==t.address&&(t.msgAllGet=!0))},300)},methods:{changeValue:function(){this.getMessage()},getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},closePop:function(){this.show=!1},getBatchById:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/backapi/vipproduct/getBatchById",{backLogin:this.backLogin,id:e});case 2:if(n=t.sent,200===n._http_status&&0===n.code){t.next=6;break}return this.$notify({message:n.msg,color:"#ad0000",background:"#ffe1e1",duration:3e3}),t.abrupt("return");case 6:this.codeMsg.type=1===n.data.type?"防伪码":2===n.data.type?"防伪码+溯源码":"溯源码",this.bindAddress=n.data.proAddress,this.codeMsg.num=n.data.num,this.addressList();case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getMessage:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/backapi/vipproduct/getProductById",{backLogin:this.backLogin,id:this.value});case 2:e=t.sent,this.showList=!0,this.canLinkUp=!0,this.proAddress=e.data.proAddress,this.productMsg={amount:e.data.amount,type:1===e.data.type?"防伪码":2===e.data.type?"防伪码+溯源码":"溯源码",num:e.data.num,signId:e.data.signId,proName:e.data.proName,sname:e.data.sname,reward:e.data.reward,assetId:e.data.assetId};case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addressList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("/backapi/vipproduct/addressList",{backLogin:this.backLogin});case 2:if(e=t.sent,200===e._http_status&&0===e.code){t.next=6;break}return this.$notify({message:e.msg,color:"#ad0000",background:"#ffe1e1",duration:2e3}),t.abrupt("return");case 6:e.data.forEach(function(t){var e={};e.text=t.proName,e.value=t.id,n.productOptions.push(e)});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),confirmClick:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.stringify({proAddress:this.proAddress,bindAddress:this.bindAddress,num:this.productMsg.num,info:"绑定产品"}),t.next=3,this.$http.post("/backapi/vipproduct/coinMoney",{backLogin:this.backLogin,productAddress:this.proAddress,address:this.address,busiJson:e,assetId:this.productMsg.assetId});case 3:n=t.sent,200===n._http_status&&0===n.code||this.$notify({message:n.msg,color:"#ad0000",background:"#ffe1e1",duration:3e3});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),bindProduct:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.canLinkUp){t.next=2;break}return t.abrupt("return");case 2:if(0!==this.value){t.next=5;break}return this.$notify({message:"请选择挂接产品",color:"#ad0000",background:"#ffe1e1",duration:3e3}),t.abrupt("return");case 5:return alert("proAddress---\x3e".concat(this.proAddress,"bindAddress---\x3e").concat(this.bindAddress)),t.next=8,this.$http.post("/backapi/vipproduct/bindProduct",{backLogin:this.backLogin,productAddress:this.proAddress,batchAddress:this.bindAddress});case 8:if(e=t.sent,200===e._http_status&&0===e.code){t.next=12;break}return this.$notify({message:e.msg,color:"#ad0000",background:"#ffe1e1",duration:3e3}),t.abrupt("return");case 12:this.show=!0;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}}),b=v,A=(n("49bc"),n("efc9"),Object(m["a"])(b,g,h,!1,null,"5182914c",null)),Z=A.exports;r["a"].use(f["a"]);var U=new f["a"]({base:"/",routes:[{path:"/",name:"home",component:Z},{path:"/materiel",name:"materiel",component:function(){return n.e("chunk-2a5443d9").then(n.bind(null,"aeeb"))}}]}),y=U,w=n("b970"),k=(n("b059"),n("157a"),n("7618")),C=n("bc3a"),W=n.n(C),_=n("4328"),E=n.n(_),O="true"===Object({NODE_ENV:"production",BASE_URL:""}).NODE_TEST?"":"http://39.100.122.95:8080/code_test_manager",x=function(t){return new Promise(function(e){W()(t).then(function(t){t.data="object"===Object(k["a"])(t.data)&&t.data||{},t.data._http_status=t.status,e(t.data)}).catch(function(){e()})})};W.a.interceptors.response.use(function(t){return 200===t.status?t:(r["a"].prototype.$notify.error({title:"错误",message:t.data.msg||"网络错误，请刷新"}),!1)},function(t){return r["a"].prototype.$notify.error({title:"错误",message:t.msg||"网络错误，请刷新"}),!1});var M={all:function(t){return W.a.all(t)},spread:function(t){return W.a.spread(t)},get:function(t,e){var n={url:"".concat(O).concat(t),method:"get",headers:{"Content-Type":"application/json"},params:e};return x(n)},post:function(t,e){var n={url:"".concat(O).concat(t),method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:E.a.stringify(e)};return x(n)}},I=n("2f62");r["a"].use(I["a"]);var L=new I["a"].Store({state:{popMsg:{}},mutations:{SET_POPMSG:function(t,e){t.popMsg=e}},actions:{}}),R=L;function B(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.getElementsByTagName("html")[0];e.style.fontSize=t/10+"px"}r["a"].use(w["a"]),r["a"].config.productionTip=!1,r["a"].prototype.$http=M,new r["a"]({store:R,router:y,render:function(t){return t(l)}}).$mount("#app"),window.onresize=B,B()},"5c48":function(t,e,n){},"5e9e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAABmCAMAAAD24e+nAAAAilBMVEUAAAAWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9UWm9XLu7lrAAAALXRSTlMAQIGVpoBZoThIwwT45dkgvBYL8+3UyTscaDIQziXerpu1dG5dB6iOUC+He2P6aAhCAAADjElEQVRo3u3Y63KiQBAF4AY0uoByVxAB79f0+7/epijYJoQZhBmorZTnT6oizGfjAQWox3mmKCfp0YCWKAuUl2DegpkoM57Cw+6EyYmZcDQ738SfqVPRqBcvX2vPGS3fQLdARu7bfDX2cGo+mQNy4uaFuwErGX4lkyHRcidgxFjhVzRpmoZf+QBGzsGYmrEdQvs/juTImj6mBr9Zs3+xthfRbhNbTUbS3Iy+PQfXDBvz+M7rWtZXc3UschpeO9tY5vi6dumnGTr+izK0FtuE7eF1bUJav8kWTgdt1kNzK9gyhGE1165MlkAXbcfQYuB9JZZJQxDXzk893TP2iauHMQFBjc6lXeN5Vi2IBR01rUGLitUmDZOtagUR1zIssmO0kQrSUbs2aNS52nRnRkGEtAOtOYNKHEZBxLRzWudoMipIH+1BGuXu48+D6Wzpn0EI8jRYe4i1qsSs6otrsDFr07mVyZYO9NTUZg3W/rfpnFUFs6CvNmVoMK9Md7WqBQmht/ZkabDxSfDqBRHXeFWpFkRAO5DGrQoVRJLGqwoVREg78jRY03RUkME0mPvILIh8DRSvWhBRLWJpdN5RQYbXQPFzLLBAXPskjfusbB/DsBpF+dgAyNBOo94J3/KrrjTt2vjEcP6Y5dH0vG7ajPJwOgrOcVfuqy3zZ6tasVJx/J8msrONO2GHBbJifhYXR17ULtgOeTkChCZfW3XAIuTGDGGK/PhOlwfJ/Ezhgi3ZvKxtsCWXdu0keiApE5jkf6O1Usv6QD+QX0xWtqF5MdIS+JniU1gYL2JGsUPKOMikzRkXnoarAfe6x7oY/WnV1vQM5KWsqFY9NNDp+U5r6M3Z0Eej/bfQHnpv834aLXDsUP899NTodL23YnfatKdGV9k0bsGcZbGlBv01NygW0Q0u5pZ93BoCGiRmyTkczCrflBeCgEanLAYbJrZZYpEPENOIwyfzHpMwAa3O7ZWml3UsYt5AXIMP+na3byFUY0UB3bLeQFCj38dl/Oy5tmLXcGNrfcg8esFOQI4GsYbVeP5ytfQ9rEY1QFijrbfIy/IPgEQNjChlW0cX5GiUOGqeL4jIkqHRPtOt903ygis1UZZGOVuf14m9CtJAt7NdlJwBhtIohksVHFCjvLW39tbe2k/Nkg9w7t8iZdgcCu2C42R87QIqjpcphD6OFdMCUFIcJ2b+wz0+PR/q4HkcEoC/4dQUeZGNYI0AAAAASUVORK5CYII="},"7c55":function(t,e,n){"use strict";var r=n("5c48"),s=n.n(r);s.a},"8e31":function(t,e,n){t.exports=n.p+"img/product-code-img.a73e5ec6.png"},b059:function(t,e,n){},db89:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAclBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkjQ/XgAAAAJXRSTlMAKQboC+2CefbbivLjwF4lyKWdRjEQxEzSaTohzK6SVxwYlXG39PHm/gAAAcxJREFUOMt9VNuWgjAQm1Ja7iCIrKig4ub/f3ErlpZ2kTxwYE7IkHQG8tGW0TjJ8hLQHu5jAg3e9OEXVhDNrPwwDN18J9LnphoH4uHFPk+Pss7Vc/9frgaEPDm1VwIUD5cXqlptaAYjEDOnonglbeCSAVeyOAAX2sSTI7PuG6ClLzgJ3EjjCPzQV1yBSBvmqGkHPVB9UoDYP6+zFuKLNDVdtUq2KPT7x4/zu7UlwJlJ9gAs9WSWmjCQBsuRMa13Bo5LXaKY6b11KCCqmXdY8agFnsTeF4MqR1wZPYMcJZXInZPIEAd0c3lUI1L9f918BZLO41EKSamfdqjkBHNrEqMhWhQAJ584UWRa20kS4FevdarMJE7tBrAwRuasSwP5zmg12UE3T1IVI6+c01ZZ89Vsm1wqlbzt/gDYW7YxhgszmSxbaUY4z+PGrQ87wYwDoamn71mPTe8uW016xZepYnpTRuSmt7PqgQm2WD413f0hmRXttfQ2QqCxJuLTzsbYlVJ++Ddm4bRjAGeb668Ts8wYeG34yDyest4BnVdrByC/kI8IwE2aOosKAGNI/9E2UEjqVMq0OUNhOHoUq/ILg06p7+Bxf8lpSqPSD+EPRV4s5sJqWVQAAAAASUVORK5CYII="},efc9:function(t,e,n){"use strict";var r=n("330b"),s=n.n(r);s.a}});
//# sourceMappingURL=app.c7c3714d.js.map